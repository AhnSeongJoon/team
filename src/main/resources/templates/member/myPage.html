<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>My Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://bxgs.co.kr/theme/buzinga/css/aos.css?ver=210618">
    <link rel="stylesheet" href="https://bxgs.co.kr/theme/buzinga/css/nice-select.css?ver=210618">
    <link rel="stylesheet" href="https://bxgs.co.kr/theme/buzinga/css/common.css?ver=210618">
    <link rel="stylesheet" href="https://bxgs.co.kr/theme/buzinga/css/sub.css?ver=210618">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
    <link th:href="@{/css/layout1.css}" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
<div th:replace="~{fragments/header::header}" class="header"></div>

<h1>My Page</h1>

<form id="findPasswordForm" action="/members/find-password" method="post">
    <input type="email" name="email" placeholder="이메일" required>
    <button type="submit" class="btn btn-primary">비밀번호 찾기</button>
</form>

<form action="/members/changePasswordForm" method="get">
    <button type="submit" class="btn btn-secondary">비밀번호 변경</button>
</form>

<script>
    // 비밀번호 찾기 폼 제출 시 팝업 처리
    $('#findPasswordForm').on('submit', function(event) {
        event.preventDefault(); // 기본 제출 동작 방지
        $.post($(this).attr('action'), $(this).serialize(), function(response) {
            Swal.fire({
                title: '완료!',
                text: response.message,
                icon: 'success',
                confirmButtonText: '확인'
            });
        }).fail(function() {
            Swal.fire({
                title: '오류!',
                text: '이메일 발송에 실패했습니다.',
                icon: 'error',
                confirmButtonText: '확인'
            });
        });
    });
</script>
</body>
</html>
